import asyncio
import websockets
from json import loads, dumps


async def connect_to_server():
    uri = "ws://localhost:8080"
    async with websockets.connect(uri) as websocket:
        while True:
            data = await websocket.recv()
            pkts = loads(data)
            for pkt in pkts:
                print(pkt)
                if pkt[0] == "choice":
                    await websocket.send(
                        dumps({"side": pkt[1]["side"], "decision": {"type": "auto"}})
                    )
                
                if pkt[0] == "end":
                    return


# Run the connect_to_server coroutine
asyncio.get_event_loop().run_until_complete(connect_to_server())


{
  "created": "2020-09-25T20:53:49.969Z",
  "modified": "2025-01-01T19:18:37.249Z",
  "0.2.3": "2020-09-25T20:53:50.414Z",
  "0.2.4": "2020-09-26T06:48:16.302Z",
  "0.2.5": "2020-10-01T18:05:22.706Z",
  "0.2.6": "2020-10-12T02:06:35.647Z",
  "0.2.7": "2020-10-19T19:19:39.454Z",
  "0.3.0": "2020-10-24T02:41:37.005Z",
  "0.3.1": "2020-10-31T03:59:58.179Z",
  "0.3.2": "2020-11-13T20:13:46.395Z",
  "0.3.3": "2020-11-21T00:39:52.684Z",
  "0.3.4": "2020-11-27T20:13:12.998Z",
  "0.3.5": "2020-12-03T22:08:28.165Z",
  "0.3.6": "2020-12-13T04:02:50.819Z",
  "0.3.7": "2020-12-18T20:34:39.689Z",
  "0.3.8": "2020-12-26T19:52:57.791Z",
  "0.3.9": "2021-01-03T02:09:45.444Z",
  "0.3.10": "2021-01-08T20:37:39.569Z",
  "0.3.11": "2021-01-15T18:23:48.143Z",
  "0.3.12": "2021-01-26T03:07:09.349Z",
  "0.3.13": "2021-01-30T18:49:31.461Z",
  "0.3.14": "2021-02-08T01:05:51.230Z",
  "0.3.15": "2021-02-08T18:02:30.067Z",
  "0.3.16": "2021-02-17T18:15:16.064Z",
  "0.3.17": "2021-02-23T23:02:14.088Z",
  "0.3.18": "2021-02-25T04:42:39.332Z",
  "0.3.19": "2021-03-02T00:08:33.083Z",
  "0.3.20": "2021-03-13T06:20:46.563Z",
  "0.3.21": "2021-03-22T01:34:28.601Z",
  "0.3.22": "2021-04-01T21:33:57.766Z",
  "0.4.0": "2021-04-12T21:12:08.707Z",
  "0.4.1": "2021-04-19T03:25:19.268Z",
  "0.4.2": "2021-04-26T02:10:50.854Z",
  "0.4.3": "2021-05-02T20:07:00.822Z",
  "0.4.4": "2021-05-10T03:16:05.939Z",
  "0.4.5": "2021-05-23T20:51:46.310Z",
  "0.4.6": "2021-06-02T04:22:50.214Z",
  "0.4.7": "2021-06-07T01:55:40.894Z",
  "0.4.8": "2021-06-14T21:25:34.511Z",
  "0.4.9": "2021-06-27T17:34:21.216Z",
  "0.4.10": "2021-07-02T03:38:08.205Z",
  "0.4.11": "2021-07-11T19:44:57.389Z",
  "0.4.12": "2021-07-17T23:36:13.218Z",
  "0.4.13": "2021-07-25T17:59:17.607Z",
  "0.4.14": "2021-08-03T00:29:31.578Z",
  "0.4.15": "2021-08-15T16:30:00.386Z",
  "0.4.16": "2021-08-22T18:59:06.709Z",
  "0.4.17": "2021-09-01T18:40:28.839Z",
  "0.4.18": "2021-09-13T18:54:25.854Z",
  "0.4.19": "2021-10-01T18:55:28.108Z",
  "0.4.20": "2021-10-17T18:14:32.825Z",
  "0.4.21": "2021-11-01T19:10:42.162Z",
  "0.4.22": "2021-11-14T05:14:41.278Z",
  "0.4.23": "2021-11-20T23:54:18.515Z",
  "0.4.24": "2021-11-23T00:53:57.259Z",
  "0.4.25": "2021-12-01T22:57:26.372Z",
  "0.4.26": "2021-12-09T22:17:25.123Z",
  "0.5.0": "2021-12-10T02:59:05.547Z",
  "0.5.1": "2021-12-11T03:57:47.502Z",
  "0.5.2": "2021-12-22T18:39:11.636Z",
  "0.5.3": "2022-01-01T22:04:34.881Z",
  "0.5.4": "2022-01-09T00:05:18.271Z",
  "0.5.5": "2022-01-23T03:42:42.712Z",
  "0.5.6": "2022-02-01T21:53:40.877Z",
  "0.5.7": "2022-02-07T19:47:28.679Z",
  "0.5.8": "2022-02-24T17:45:07.982Z",
  "0.5.9": "2022-03-02T16:58:20.962Z",
  "0.5.10": "2022-03-02T18:22:14.542Z",
  "0.5.11": "2022-03-16T18:00:01.484Z",
  "0.5.12": "2022-04-03T01:33:57.242Z",
  "0.5.13": "2022-04-10T04:40:58.403Z",
  "0.5.14": "2022-04-17T17:09:28.647Z",
  "0.5.15": "2022-05-02T02:39:52.413Z",
  "0.5.16": "2022-05-09T02:44:37.452Z",
  "0.5.17": "2022-05-24T01:54:28.058Z",
  "0.5.18": "2022-05-24T19:56:23.268Z",
  "0.5.19": "2022-06-03T03:54:28.587Z",
  "0.5.20": "2022-06-20T00:53:01.267Z",
  "0.5.21": "2022-07-03T15:05:13.144Z",
  "0.5.22": "2022-07-17T10:21:47.951Z",
  "0.5.23": "2022-08-01T22:22:22.163Z",
  "0.5.24": "2022-08-13T18:33:15.347Z",
  "0.5.25": "2022-09-02T00:26:11.398Z",
  "0.5.26": "2022-09-13T02:36:56.941Z",
  "0.5.27": "2022-10-03T21:54:00.472Z",
  "0.5.28": "2022-10-11T23:42:18.986Z",
  "0.6.1": "2022-10-19T22:58:32.059Z",
  "0.6.2": "2022-11-01T19:30:09.258Z",
  "0.6.3": "2022-11-05T03:43:14.368Z",
  "0.6.4": "2022-11-14T23:50:16.894Z",
  "0.7.0": "2022-11-20T22:35:57.528Z",
  "0.7.1": "2022-11-21T04:37:49.239Z",
  "0.7.2": "2022-11-22T02:24:04.610Z",
  "0.7.3": "2022-11-24T03:35:01.665Z",
  "0.7.4": "2022-12-05T01:24:56.844Z",
  "0.7.5": "2022-12-05T01:54:48.997Z",
  "0.7.6": "2022-12-12T04:53:48.249Z",
  "0.7.7": "2022-12-12T05:00:00.018Z",
  "0.7.8": "2022-12-13T19:35:22.376Z",
  "0.7.9": "2022-12-14T19:49:38.294Z",
  "0.7.10": "2022-12-16T22:25:53.083Z",
  "0.7.11": "2022-12-20T03:15:48.199Z",
  "0.7.12": "2022-12-24T14:08:17.818Z",
  "0.7.13": "2023-01-03T21:24:28.389Z",
  "0.7.14": "2023-01-07T21:15:04.470Z",
  "0.7.15": "2023-01-09T20:37:04.417Z",
  "0.7.16": "2023-01-20T03:16:20.080Z",
  "0.7.17": "2023-01-21T01:37:38.914Z",
  "0.7.18": "2023-01-22T03:16:23.113Z",
  "0.7.19": "2023-01-29T19:35:07.841Z",
  "0.7.20": "2023-01-29T21:33:54.921Z",
  "0.7.21": "2023-02-02T00:05:24.933Z",
  "0.7.22": "2023-02-13T19:06:20.842Z",
  "0.7.23": "2023-02-24T03:30:22.915Z",
  "0.7.24": "2023-02-27T00:10:46.032Z",
  "0.7.25": "2023-02-28T16:34:19.064Z",
  "0.7.26": "2023-03-01T23:03:58.373Z",
  "0.7.27": "2023-03-09T23:25:35.423Z",
  "0.7.28": "2023-03-11T01:45:36.206Z",
  "0.7.29": "2023-03-12T03:38:31.629Z",
  "0.7.30": "2023-03-21T21:25:32.360Z",
  "0.7.31": "2023-03-25T01:20:26.530Z",
  "0.7.32": "2023-03-27T23:16:34.558Z",
  "0.7.33": "2023-03-29T17:26:14.254Z",
  "0.7.34": "2023-03-30T01:36:40.595Z",
  "0.7.35": "2023-04-02T02:52:03.703Z",
  "0.7.36": "2023-04-08T02:46:17.420Z",
  "0.7.37": "2023-04-15T04:57:30.122Z",
  "0.7.38": "2023-04-20T19:16:07.660Z",
  "0.7.39": "2023-05-01T20:11:43.387Z",
  "0.7.40": "2023-05-16T17:57:37.742Z",
  "0.7.41": "2023-06-01T22:17:15.601Z",
  "0.7.42": "2023-06-06T17:09:26.270Z",
  "0.7.43": "2023-06-16T22:49:55.949Z",
  "0.7.44": "2023-06-23T18:45:55.217Z",
  "0.7.45": "2023-07-02T11:01:14.165Z",
  "0.7.46": "2023-07-13T18:44:03.522Z",
  "0.7.47": "2023-08-01T21:42:08.274Z",
  "0.7.48": "2023-08-21T02:17:46.358Z",
  "0.7.49": "2023-09-01T23:23:47.786Z",
  "0.7.50": "2023-09-08T19:44:55.846Z",
  "0.7.51": "2023-09-15T00:27:25.870Z",
  "0.7.52": "2023-09-16T23:28:57.715Z",
  "0.7.53": "2023-10-02T01:39:54.636Z",
  "0.7.54": "2023-10-15T17:49:21.287Z",
  "0.7.55": "2023-11-02T03:04:34.659Z",
  "0.7.56": "2023-11-13T05:02:06.283Z",
  "0.7.57": "2023-11-18T20:05:26.056Z",
  "0.7.58": "2023-11-21T19:47:53.144Z",
  "0.7.59": "2023-12-02T02:34:17.195Z",
  "0.8.0": "2023-12-17T16:36:18.074Z",
  "0.8.1": "2023-12-17T21:43:56.234Z",
  "0.8.2": "2023-12-20T02:42:49.683Z",
  "0.8.3": "2023-12-30T15:16:52.796Z",
  "0.8.4": "2024-01-03T18:43:58.270Z",
  "0.8.5": "2024-01-19T00:52:20.561Z",
  "0.8.6": "2024-01-19T19:35:12.173Z",
  "0.8.7": "2024-02-02T00:32:53.700Z",
  "0.8.8": "2024-02-13T15:29:47.770Z",
  "0.8.9": "2024-03-01T23:29:26.493Z",
  "0.9.0": "2024-03-12T03:30:41.371Z",
  "0.9.1": "2024-04-02T05:11:12.938Z",
  "0.9.2": "2024-04-07T16:21:40.213Z",
  "0.9.3": "2024-04-22T19:30:08.418Z",
  "0.9.4": "2024-05-05T00:39:16.661Z",
  "0.9.5": "2024-06-01T19:41:44.737Z",
  "0.9.6": "2024-06-11T19:35:56.316Z",
  "0.9.7": "2024-06-12T20:01:40.933Z",
  "0.9.8": "2024-07-01T20:32:54.536Z",
  "0.9.9": "2024-07-11T21:06:27.288Z",
  "0.9.10": "2024-07-22T18:50:44.068Z",
  "0.9.11": "2024-08-01T23:01:54.326Z",
  "0.9.12": "2024-08-13T18:47:44.573Z",
  "0.9.13": "2024-09-04T02:55:50.823Z",
  "0.9.14": "2024-09-10T16:31:33.352Z",
  "0.9.15": "2024-09-12T20:22:22.486Z",
  "0.9.16": "2024-09-20T16:20:04.708Z",
  "0.9.17": "2024-09-21T17:52:38.298Z",
  "0.9.18": "2024-09-22T19:03:40.945Z",
  "0.9.19": "2024-10-01T15:53:25.169Z",
  "0.9.20": "2024-10-07T17:11:48.566Z",
  "0.9.21": "2024-10-18T20:06:59.633Z",
  "0.9.22": "2024-11-04T16:56:47.871Z",
  "0.9.23": "2024-11-18T20:23:57.693Z",
  "0.9.24": "2024-12-02T18:03:49.737Z",
  "0.9.25": "2024-12-09T20:05:37.330Z",
  "0.9.26": "2025-01-01T19:18:37.073Z"
}

pnpm add @pkmn/randoms-0.8.0@npm:@pkmn/randoms@0.8.0
pnpm add @pkmn/randoms-0.8.1@npm:@pkmn/randoms@0.8.1
pnpm add @pkmn/randoms-0.8.2@npm:@pkmn/randoms@0.8.2
pnpm add @pkmn/randoms-0.8.3@npm:@pkmn/randoms@0.8.3
pnpm add @pkmn/randoms-0.8.4@npm:@pkmn/randoms@0.8.4
pnpm add @pkmn/randoms-0.8.5@npm:@pkmn/randoms@0.8.5
pnpm add @pkmn/randoms-0.8.6@npm:@pkmn/randoms@0.8.6
pnpm add @pkmn/randoms-0.8.7@npm:@pkmn/randoms@0.8.7
pnpm add @pkmn/randoms-0.8.8@npm:@pkmn/randoms@0.8.8
pnpm add @pkmn/randoms-0.8.9@npm:@pkmn/randoms@0.8.9
pnpm add @pkmn/randoms-0.9.0@npm:@pkmn/randoms@0.9.0
pnpm add @pkmn/randoms-0.9.1@npm:@pkmn/randoms@0.9.1
pnpm add @pkmn/randoms-0.9.2@npm:@pkmn/randoms@0.9.2
pnpm add @pkmn/randoms-0.9.3@npm:@pkmn/randoms@0.9.3
pnpm add @pkmn/randoms-0.9.4@npm:@pkmn/randoms@0.9.4
pnpm add @pkmn/randoms-0.9.5@npm:@pkmn/randoms@0.9.5
pnpm add @pkmn/randoms-0.9.6@npm:@pkmn/randoms@0.9.6
pnpm add @pkmn/randoms-0.9.7@npm:@pkmn/randoms@0.9.7
pnpm add @pkmn/randoms-0.9.8@npm:@pkmn/randoms@0.9.8
pnpm add @pkmn/randoms-0.9.9@npm:@pkmn/randoms@0.9.9
pnpm add @pkmn/randoms-0.9.10@npm:@pkmn/randoms@0.9.10
pnpm add @pkmn/randoms-0.9.11@npm:@pkmn/randoms@0.9.11
pnpm add @pkmn/randoms-0.9.12@npm:@pkmn/randoms@0.9.12
pnpm add @pkmn/randoms-0.9.13@npm:@pkmn/randoms@0.9.13
pnpm add @pkmn/randoms-0.9.14@npm:@pkmn/randoms@0.9.14
pnpm add @pkmn/randoms-0.9.15@npm:@pkmn/randoms@0.9.15
pnpm add @pkmn/randoms-0.9.16@npm:@pkmn/randoms@0.9.16
pnpm add @pkmn/randoms-0.9.17@npm:@pkmn/randoms@0.9.17
pnpm add @pkmn/randoms-0.9.18@npm:@pkmn/randoms@0.9.18
pnpm add @pkmn/randoms-0.9.19@npm:@pkmn/randoms@0.9.19
pnpm add @pkmn/randoms-0.9.20@npm:@pkmn/randoms@0.9.20
pnpm add @pkmn/randoms-0.9.21@npm:@pkmn/randoms@0.9.21
pnpm add @pkmn/randoms-0.9.22@npm:@pkmn/randoms@0.9.22
pnpm add @pkmn/randoms-0.9.23@npm:@pkmn/randoms@0.9.23
pnpm add @pkmn/randoms-0.9.24@npm:@pkmn/randoms@0.9.24
pnpm add @pkmn/randoms-0.9.25@npm:@pkmn/randoms@0.9.25
pnpm add @pkmn/randoms-0.9.26@npm:@pkmn/randoms@0.9.26